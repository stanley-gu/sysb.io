ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml"],function(a,b){var c=a("../lib/oop"),d=a("./text").Mode,e=a("../tokenizer").Tokenizer,f=a("./xml_highlight_rules").XmlHighlightRules,g=a("./behaviour/xml").XmlBehaviour,h=a("./folding/xml").FoldMode,i=function(){this.$tokenizer=new e((new f).getRules()),this.$behaviour=new g,this.foldingRules=new h};c.inherits(i,d),function(){this.blockComment={start:"<!--",end:"-->"}}.call(i.prototype),b.Mode=i}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/xml_util","ace/mode/text_highlight_rules"],function(a,b){var c=a("../lib/oop"),d=a("./xml_util"),e=a("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml-pe",regex:"<\\?.*?\\?>"},{token:"comment",regex:"<\\!--",next:"comment"},{token:"xml-pe",regex:"<\\!.*?>"},{token:"meta.tag",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"constant.character.entity",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?-->",next:"start"},{token:"comment",regex:".+"}]},d.tag(this.$rules,"tag","start")};c.inherits(f,e),b.XmlHighlightRules=f}),ace.define("ace/mode/xml_util",["require","exports","module"],function(a,b){function c(a){return[{token:"string",regex:'"',next:a+"_qqstring"},{token:"string",regex:"'",next:a+"_qstring"}]}function d(a,b){return[{token:"string",regex:a,next:b},{token:"constant.language.escape",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},{defaultToken:"string"}]}b.tag=function(a,b,e,f){a[b]=[{token:"text",regex:"\\s+"},{token:f?function(a){return f[a]?"meta.tag.tag-name."+f[a]:"meta.tag.tag-name"}:"meta.tag.tag-name",regex:"[-_a-zA-Z0-9:]+",next:b+"_embed_attribute_list"},{token:"empty",regex:"",next:b+"_embed_attribute_list"}],a[b+"_qstring"]=d("'",b+"_embed_attribute_list"),a[b+"_qqstring"]=d('"',b+"_embed_attribute_list"),a[b+"_embed_attribute_list"]=[{token:"meta.tag.r",regex:"/?>",next:e},{token:"keyword.operator",regex:"="},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat(c(b))}}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(a,b){function c(a,b){var c=!0,d=a.type.split("."),e=b.split(".");return e.forEach(function(a){return-1==d.indexOf(a)?(c=!1,!1):void 0}),c}var d=a("../../lib/oop"),e=a("../behaviour").Behaviour,f=a("./cstyle").CstyleBehaviour,g=a("../../token_iterator").TokenIterator,h=function(){this.inherit(f,["string_dquotes"]),this.add("autoclosing","insertion",function(a,b,d,e,f){if(">"==f){var h=d.getCursorPosition(),i=new g(e,h.row,h.column),j=i.getCurrentToken(),k=!1;if(j&&(c(j,"meta.tag")||c(j,"text")&&j.value.match("/")))k=!0;else do j=i.stepBackward();while(j&&(c(j,"string")||c(j,"keyword.operator")||c(j,"entity.attribute-name")||c(j,"text")));if(!j||!c(j,"meta.tag-name")||i.stepBackward().value.match("/"))return;var l=j.value;if(k)var l=l.substring(0,h.column-j.start);return{text:"></"+l+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(a,b,c,d,e){if("\n"==e){var f=c.getCursorPosition(),g=d.doc.getLine(f.row),h=g.substring(f.column,f.column+2);if("</"==h){var i=this.$getIndent(d.doc.getLine(f.row))+d.getTabString(),j=this.$getIndent(d.doc.getLine(f.row));return{text:"\n"+i+"\n"+j,selection:[1,i.length,1,i.length]}}}})};d.inherits(h,e),b.XmlBehaviour=h}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(a,b){var c=a("../../lib/oop"),d=a("../behaviour").Behaviour,e=a("../../token_iterator").TokenIterator,f=a("../../lib/lang"),g=["text","paren.rparen","punctuation.operator"],h=["text","paren.rparen","punctuation.operator","comment"],i=0,j=-1,k="",l=0,m=-1,n="",o="",p=function(){p.isSaneInsertion=function(a,b){var c=a.getCursorPosition(),d=new e(b,c.row,c.column);if(!this.$matchTokenType(d.getCurrentToken()||"text",g)){var f=new e(b,c.row,c.column+1);if(!this.$matchTokenType(f.getCurrentToken()||"text",g))return!1}return d.stepForward(),d.getCurrentTokenRow()!==c.row||this.$matchTokenType(d.getCurrentToken()||"text",h)},p.$matchTokenType=function(a,b){return b.indexOf(a.type||a)>-1},p.recordAutoInsert=function(a,b,c){var d=a.getCursorPosition(),e=b.doc.getLine(d.row);this.isAutoInsertedClosing(d,e,k[0])||(i=0),j=d.row,k=c+e.substr(d.column),i++},p.recordMaybeInsert=function(a,b,c){var d=a.getCursorPosition(),e=b.doc.getLine(d.row);this.isMaybeInsertedClosing(d,e)||(l=0),m=d.row,n=e.substr(0,d.column)+c,o=e.substr(d.column),l++},p.isAutoInsertedClosing=function(a,b,c){return i>0&&a.row===j&&c===k[0]&&b.substr(a.column)===k},p.isMaybeInsertedClosing=function(a,b){return l>0&&a.row===m&&b.substr(a.column)===o&&b.substr(0,a.column)==n},p.popAutoInsertedClosing=function(){k=k.substr(1),i--},p.clearMaybeInsertedClosing=function(){l=0,m=-1},this.add("braces","insertion",function(a,b,c,d,e){var g=c.getCursorPosition(),h=d.doc.getLine(g.row);if("{"==e){var i=c.getSelectionRange(),j=d.doc.getTextRange(i);if(""!==j&&"{"!==j&&c.getWrapBehavioursEnabled())return{text:"{"+j+"}",selection:!1};if(p.isSaneInsertion(c,d))return/[\]\}\)]/.test(h[g.column])?(p.recordAutoInsert(c,d,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(c,d,"{"),{text:"{",selection:[1,1]})}else if("}"==e){var k=h.substring(g.column,g.column+1);if("}"==k){var m=d.$findOpeningBracket("}",{column:g.column+1,row:g.row});if(null!==m&&p.isAutoInsertedClosing(g,h,e))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if("\n"==e||"\r\n"==e){var n="";p.isMaybeInsertedClosing(g,h)&&(n=f.stringRepeat("}",l),p.clearMaybeInsertedClosing());var k=h.substring(g.column,g.column+1);if("}"==k||""!==n){var o=d.findMatchingBracket({row:g.row,column:g.column},"}");if(!o)return null;var q=this.getNextLineIndent(a,h.substring(0,g.column),d.getTabString()),r=this.$getIndent(h);return{text:"\n"+q+"\n"+r+n,selection:[1,q.length,1,q.length]}}}}),this.add("braces","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&"{"==f){var g=d.doc.getLine(e.start.row),h=g.substring(e.end.column,e.end.column+1);if("}"==h)return e.end.column++,e;l--}}),this.add("parens","insertion",function(a,b,c,d,e){if("("==e){var f=c.getSelectionRange(),g=d.doc.getTextRange(f);if(""!==g&&c.getWrapBehavioursEnabled())return{text:"("+g+")",selection:!1};if(p.isSaneInsertion(c,d))return p.recordAutoInsert(c,d,")"),{text:"()",selection:[1,1]}}else if(")"==e){var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if(")"==j){var k=d.$findOpeningBracket(")",{column:h.column+1,row:h.row});if(null!==k&&p.isAutoInsertedClosing(h,i,e))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&"("==f){var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(")"==h)return e.end.column++,e}}),this.add("brackets","insertion",function(a,b,c,d,e){if("["==e){var f=c.getSelectionRange(),g=d.doc.getTextRange(f);if(""!==g&&c.getWrapBehavioursEnabled())return{text:"["+g+"]",selection:!1};if(p.isSaneInsertion(c,d))return p.recordAutoInsert(c,d,"]"),{text:"[]",selection:[1,1]}}else if("]"==e){var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if("]"==j){var k=d.$findOpeningBracket("]",{column:h.column+1,row:h.row});if(null!==k&&p.isAutoInsertedClosing(h,i,e))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&"["==f){var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if("]"==h)return e.end.column++,e}}),this.add("string_dquotes","insertion",function(a,b,c,d,e){if('"'==e||"'"==e){var f=e,g=c.getSelectionRange(),h=d.doc.getTextRange(g);if(""!==h&&"'"!==h&&'"'!=h&&c.getWrapBehavioursEnabled())return{text:f+h+f,selection:!1};var i=c.getCursorPosition(),j=d.doc.getLine(i.row),k=j.substring(i.column-1,i.column);if("\\"==k)return null;for(var l,m=d.getTokens(g.start.row),n=0,o=-1,q=0;q<m.length&&(l=m[q],"string"==l.type?o=-1:0>o&&(o=l.value.indexOf(f)),!(l.value.length+n>g.start.column));q++)n+=m[q].value.length;if(!l||0>o&&"comment"!==l.type&&("string"!==l.type||g.start.column!==l.value.length+n-1&&l.value.lastIndexOf(f)===l.value.length-1)){if(!p.isSaneInsertion(c,d))return;return{text:f+f,selection:[1,1]}}if(l&&"string"===l.type){var r=j.substring(i.column,i.column+1);if(r==f)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&('"'==f||"'"==f)){var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(h==f)return e.end.column++,e}})};c.inherits(p,d),b.CstyleBehaviour=p}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(a,b){var c=a("../../lib/oop"),d=a("../../lib/lang"),e=a("../../range").Range,f=a("./fold_mode").FoldMode,g=a("../../token_iterator").TokenIterator,h=b.FoldMode=function(a){f.call(this),this.voidElements=a||{}};c.inherits(h,f),function(){this.getFoldWidget=function(a,b,c){var d=this._getFirstTagInLine(a,c);return d.closing?"markbeginend"==b?"end":"":!d.tagName||this.voidElements[d.tagName.toLowerCase()]?"":d.selfClosing?"":-1!==d.value.indexOf("/"+d.tagName)?"":"start"},this._getFirstTagInLine=function(a,b){for(var c=a.getTokens(b),e="",f=0;f<c.length;f++){var g=c[f];e+=0===g.type.indexOf("meta.tag")?g.value:d.stringRepeat(" ",g.value.length)}return this._parseTag(e)},this.tagRe=/^(\s*)(<?(\/?)([-_a-zA-Z0-9:!]*)\s*(\/?)>?)/,this._parseTag=function(a){var b=a.match(this.tagRe),c=0;return{value:a,match:b?b[2]:"",closing:b?!!b[3]:!1,selfClosing:b?!!b[5]||"/>"==b[2]:!1,tagName:b?b[4]:"",column:b[1]?c+b[1].length:c}},this._readTagForward=function(a){var b=a.getCurrentToken();if(!b)return null;var c,d="";do if(0===b.type.indexOf("meta.tag")){if(!c)var c={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()};if(d+=b.value,-1!==d.indexOf(">")){var e=this._parseTag(d);return e.start=c,e.end={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length},a.stepForward(),e}}while(b=a.stepForward());return null},this._readTagBackward=function(a){var b=a.getCurrentToken();if(!b)return null;var c,d="";do if(0===b.type.indexOf("meta.tag")&&(c||(c={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length}),d=b.value+d,-1!==d.indexOf("<"))){var e=this._parseTag(d);return e.end=c,e.start={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()},a.stepBackward(),e}while(b=a.stepBackward());return null},this._pop=function(a,b){for(;a.length;){var c=a[a.length-1];if(!b||c.tagName==b.tagName)return a.pop();if(this.voidElements[b.tagName])return;{if(!this.voidElements[c.tagName])return null;a.pop()}}},this.getFoldWidgetRange=function(a,b,c){var d=this._getFirstTagInLine(a,c);if(!d.match)return null;var f,h=d.closing||d.selfClosing,i=[];if(h){for(var j=new g(a,c,d.column+d.match.length),k={row:c,column:d.column};f=this._readTagBackward(j);)if(f.selfClosing){if(!i.length)return f.start.column+=f.tagName.length+2,f.end.column-=2,e.fromPoints(f.start,f.end)}else if(f.closing)i.push(f);else if(this._pop(i,f),0==i.length)return f.start.column+=f.tagName.length+2,e.fromPoints(f.start,k)}else for(var j=new g(a,c,d.column),l={row:c,column:d.column+d.tagName.length+2};f=this._readTagForward(j);)if(f.selfClosing){if(!i.length)return f.start.column+=f.tagName.length+2,f.end.column-=2,e.fromPoints(f.start,f.end)}else if(f.closing){if(this._pop(i,f),0==i.length)return e.fromPoints(l,f.start)}else i.push(f)}}.call(h.prototype)});